<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Dash JS Module: ProtectionController</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.spacelab.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Dash JS</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-DashMetrics.html">DashMetrics</a></li><li><a href="module-Debug.html">Debug</a></li><li><a href="module-FactoryMaker.html">FactoryMaker</a></li><li><a href="module-FetchLoader.html">FetchLoader</a></li><li><a href="module-HTTPLoader.html">HTTPLoader</a></li><li><a href="module-MediaPlayer.html">MediaPlayer</a></li><li><a href="module-MssFragmentMoovProcessor.html">MssFragmentMoovProcessor</a></li><li><a href="module-MssParser.html">MssParser</a></li><li><a href="module-ObjectUtils.html">ObjectUtils</a></li><li><a href="module-ProtectionController.html">ProtectionController</a></li><li><a href="module-ProtectionKeyController.html">ProtectionKeyController</a></li><li><a href="module-URLUtils.html">URLUtils</a></li><li><a href="module-XHRLoader.html">XHRLoader</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="BaseMatcher.html">BaseMatcher</a></li><li><a href="BufferLevel.html">BufferLevel</a></li><li><a href="BufferState.html">BufferState</a></li><li><a href="CommonEncryption.html">CommonEncryption</a></li><li><a href="CommonProperty.html">CommonProperty</a></li><li><a href="DroppedFrames.html">DroppedFrames</a></li><li><a href="DVRInfo.html">DVRInfo</a></li><li><a href="HTTPRequest.html">HTTPRequest</a></li><li><a href="HTTPRequestTrace.html">HTTPRequestTrace</a></li><li><a href="LiveEdgeFinder.html">LiveEdgeFinder</a></li><li><a href="ManifestUpdate.html">ManifestUpdate</a></li><li><a href="ManifestUpdateRepresentationInfo.html">ManifestUpdateRepresentationInfo</a></li><li><a href="ManifestUpdateStreamInfo.html">ManifestUpdateStreamInfo</a></li><li><a href="MediaPlayerEvents.html">MediaPlayerEvents</a></li><li><a href="PlayList.html">PlayList</a></li><li><a href="PlayListTrace.html">PlayListTrace</a></li><li><a href="PlayReady.html">PlayReady</a></li><li><a href="PreBufferSink.html">PreBufferSink</a></li><li><a href="ProtectionEvents.html">ProtectionEvents</a></li><li><a href="RepresentationSwitch.html">RepresentationSwitch</a></li><li><a href="RequestsQueue.html">RequestsQueue</a></li><li><a href="Round10.html">Round10</a></li><li><a href="SchedulingInfo.html">SchedulingInfo</a></li><li><a href="SourceBufferSink.html">SourceBufferSink</a></li><li><a href="TCPConnection.html">TCPConnection</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="events.list.html" class="dropdown-toggle" data-toggle="dropdown">Events<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="MediaPlayerEvents.html#event:BUFFER_EMPTY">MediaPlayerEvents#event:BUFFER_EMPTY</a></li><li><a href="MediaPlayerEvents.html#event:BUFFER_LEVEL_STATE_CHANGED">MediaPlayerEvents#event:BUFFER_LEVEL_STATE_CHANGED</a></li><li><a href="MediaPlayerEvents.html#event:BUFFER_LOADED">MediaPlayerEvents#event:BUFFER_LOADED</a></li><li><a href="MediaPlayerEvents.html#event:CAN_PLAY">MediaPlayerEvents#event:CAN_PLAY</a></li><li><a href="MediaPlayerEvents.html#event:ERROR">MediaPlayerEvents#event:ERROR</a></li><li><a href="MediaPlayerEvents.html#event:FRAGMENT_LOADING_ABANDONED">MediaPlayerEvents#event:FRAGMENT_LOADING_ABANDONED</a></li><li><a href="MediaPlayerEvents.html#event:FRAGMENT_LOADING_COMPLETED">MediaPlayerEvents#event:FRAGMENT_LOADING_COMPLETED</a></li><li><a href="MediaPlayerEvents.html#event:FRAGMENT_LOADING_PROGRESS">MediaPlayerEvents#event:FRAGMENT_LOADING_PROGRESS</a></li><li><a href="MediaPlayerEvents.html#event:FRAGMENT_LOADING_STARTED">MediaPlayerEvents#event:FRAGMENT_LOADING_STARTED</a></li><li><a href="MediaPlayerEvents.html#event:LOG">MediaPlayerEvents#event:LOG</a></li><li><a href="MediaPlayerEvents.html#event:MANIFEST_LOADED">MediaPlayerEvents#event:MANIFEST_LOADED</a></li><li><a href="MediaPlayerEvents.html#event:MANIFEST_VALIDITY_CHANGED">MediaPlayerEvents#event:MANIFEST_VALIDITY_CHANGED</a></li><li><a href="MediaPlayerEvents.html#event:METRIC_ADDED">MediaPlayerEvents#event:METRIC_ADDED</a></li><li><a href="MediaPlayerEvents.html#event:METRIC_CHANGED">MediaPlayerEvents#event:METRIC_CHANGED</a></li><li><a href="MediaPlayerEvents.html#event:METRIC_UPDATED">MediaPlayerEvents#event:METRIC_UPDATED</a></li><li><a href="MediaPlayerEvents.html#event:METRICS_CHANGED">MediaPlayerEvents#event:METRICS_CHANGED</a></li><li><a href="MediaPlayerEvents.html#event:PERIOD_SWITCH_COMPLETED">MediaPlayerEvents#event:PERIOD_SWITCH_COMPLETED</a></li><li><a href="MediaPlayerEvents.html#event:PERIOD_SWITCH_STARTED">MediaPlayerEvents#event:PERIOD_SWITCH_STARTED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_CATCHUP_END">MediaPlayerEvents#event:PLAYBACK_CATCHUP_END</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_CATCHUP_START">MediaPlayerEvents#event:PLAYBACK_CATCHUP_START</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_ENDED">MediaPlayerEvents#event:PLAYBACK_ENDED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_ERROR">MediaPlayerEvents#event:PLAYBACK_ERROR</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_METADATA_LOADED">MediaPlayerEvents#event:PLAYBACK_METADATA_LOADED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_NOT_ALLOWED">MediaPlayerEvents#event:PLAYBACK_NOT_ALLOWED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_PAUSED">MediaPlayerEvents#event:PLAYBACK_PAUSED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_PLAYING">MediaPlayerEvents#event:PLAYBACK_PLAYING</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_PROGRESS">MediaPlayerEvents#event:PLAYBACK_PROGRESS</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_RATE_CHANGED">MediaPlayerEvents#event:PLAYBACK_RATE_CHANGED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_SEEK_ASKED">MediaPlayerEvents#event:PLAYBACK_SEEK_ASKED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_SEEKED">MediaPlayerEvents#event:PLAYBACK_SEEKED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_SEEKING">MediaPlayerEvents#event:PLAYBACK_SEEKING</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_STARTED">MediaPlayerEvents#event:PLAYBACK_STARTED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_TIME_UPDATED">MediaPlayerEvents#event:PLAYBACK_TIME_UPDATED</a></li><li><a href="MediaPlayerEvents.html#event:PLAYBACK_WAITING">MediaPlayerEvents#event:PLAYBACK_WAITING</a></li><li><a href="MediaPlayerEvents.html#event:QUALITY_CHANGE_RENDERED">MediaPlayerEvents#event:QUALITY_CHANGE_RENDERED</a></li><li><a href="MediaPlayerEvents.html#event:QUALITY_CHANGE_REQUESTED">MediaPlayerEvents#event:QUALITY_CHANGE_REQUESTED</a></li><li><a href="MediaPlayerEvents.html#event:SOURCE_INITIALIZED">MediaPlayerEvents#event:SOURCE_INITIALIZED</a></li><li><a href="MediaPlayerEvents.html#event:STREAM_INITIALIZED">MediaPlayerEvents#event:STREAM_INITIALIZED</a></li><li><a href="MediaPlayerEvents.html#event:STREAM_TEARDOWN_COMPLETE">MediaPlayerEvents#event:STREAM_TEARDOWN_COMPLETE</a></li><li><a href="MediaPlayerEvents.html#event:TEXT_TRACK_ADDED">MediaPlayerEvents#event:TEXT_TRACK_ADDED</a></li><li><a href="MediaPlayerEvents.html#event:TEXT_TRACKS_ADDED">MediaPlayerEvents#event:TEXT_TRACKS_ADDED</a></li><li><a href="MediaPlayerEvents.html#event:TRACK_CHANGE_RENDERED">MediaPlayerEvents#event:TRACK_CHANGE_RENDERED</a></li><li><a href="MediaPlayerEvents.html#event:TTML_PARSED">MediaPlayerEvents#event:TTML_PARSED</a></li><li><a href="ProtectionEvents.html#event:KEY_ADDED">ProtectionEvents#event:KEY_ADDED</a></li><li><a href="ProtectionEvents.html#event:KEY_ERROR">ProtectionEvents#event:KEY_ERROR</a></li><li><a href="ProtectionEvents.html#event:KEY_MESSAGE">ProtectionEvents#event:KEY_MESSAGE</a></li><li><a href="ProtectionEvents.html#event:KEY_SESSION_CLOSED">ProtectionEvents#event:KEY_SESSION_CLOSED</a></li><li><a href="ProtectionEvents.html#event:KEY_SESSION_CREATED">ProtectionEvents#event:KEY_SESSION_CREATED</a></li><li><a href="ProtectionEvents.html#event:KEY_SESSION_REMOVED">ProtectionEvents#event:KEY_SESSION_REMOVED</a></li><li><a href="ProtectionEvents.html#event:KEY_STATUSES_CHANGED">ProtectionEvents#event:KEY_STATUSES_CHANGED</a></li><li><a href="ProtectionEvents.html#event:KEY_SYSTEM_SELECTED">ProtectionEvents#event:KEY_SYSTEM_SELECTED</a></li><li><a href="ProtectionEvents.html#event:LICENSE_REQUEST_COMPLETE">ProtectionEvents#event:LICENSE_REQUEST_COMPLETE</a></li><li><a href="ProtectionEvents.html#event:PROTECTION_CREATED">ProtectionEvents#event:PROTECTION_CREATED</a></li><li><a href="ProtectionEvents.html#event:PROTECTION_DESTROYED">ProtectionEvents#event:PROTECTION_DESTROYED</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="interfaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Interfaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="FragmentSink.html">FragmentSink</a></li><li><a href="KeySystem.html">KeySystem</a></li><li><a href="Logger.html">Logger</a></li><li><a href="ProtectionModel.html">ProtectionModel</a></li><li><a href="SessionToken.html">SessionToken</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#_decimalAdjust">_decimalAdjust</a></li><li><a href="global.html#EBMLParser">EBMLParser</a></li><li><a href="global.html#GenericMetricHandler">GenericMetricHandler</a></li><li><a href="global.html#HandlerHelpers">HandlerHelpers</a></li><li><a href="global.html#MetricSerialiser">MetricSerialiser</a></li><li><a href="global.html#RNG">RNG</a></li><li><a href="global.html#round10">round10</a></li><li><a href="global.html#URIFragmentModel">URIFragmentModel</a></li><li><a href="global.html#Widevine">Widevine</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Module: ProtectionController</h1>
<section>

<header>
    
</header>


<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Provides access to media protection information and functionality.  Each
ProtectionController manages a single <code>MediaPlayer.models.ProtectionModel</code>
which encapsulates a set of protection information (EME APIs, selected key system,
key sessions).  The APIs of ProtectionController mostly align with the latest EME
APIs.  Key system selection is mostly automated when combined with app-overrideable
functionality provided in <code>ProtectionKeyController</code>.</p></div>
        

        
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-36">line 36</a>
			</li>
		</ul>
	</dd>
	

	

	

	
	<dt class="tag-todo method-doc-label method-doc-details-label">To Do:</dt>
	<dd class="tag-todo">
		<ul>
			<li>ProtectionController does almost all of its tasks automatically after init() is
called.  Applications might want more control over this process and want to go through
each step manually (key system selection, session creation, session maintenance).</li>
			</ul>
	</dd>
	
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="closeKeySession"><span class="type-signature"></span>closeKeySession(sessionToken)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Closes the key session and releases all associated decryption keys.  These
keys will no longer be available for decrypting media</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sessionToken</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="SessionToken.html">SessionToken</a></span>



            
            </td>

            

            

            <td class="description last"><p>the session
token</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-216">line 216</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    
    <h5>Fires:</h5>
    <ul>
        <li>ProtectionController#event:KeySessionClosed</li>
    </ul>
    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createKeySession"><span class="type-signature"></span>createKeySession(initData, cdmData)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Create a new key session associated with the given initialization data from
the MPD or from the PSSH box in the media</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>initData</code></td>
            

            <td class="type">
            
                
<span class="param-type">ArrayBuffer</span>



            
            </td>

            

            

            <td class="description last"><p>the initialization data</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cdmData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>



            
            </td>

            

            

            <td class="description last"><p>the custom data to provide to licenser</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-151">line 151</a>
			</li>
		</ul>
	</dd>
	

	

	

	
	<dt class="tag-todo method-doc-label method-doc-details-label">To Do:</dt>
	<dd class="tag-todo">
		<ul>
			<li>In older versions of the EME spec, there was a one-to-one relationship between
initialization data and key sessions.  That is no longer true in the latest APIs.  This
API will need to modified (and a new "generateRequest(keySession, initData)" API created)
to come up to speed with the latest EME standard</li>
			</ul>
	</dd>
	
</dl>


    

    
    <h5>Fires:</h5>
    <ul>
        <li>ProtectionController#event:KeySessionCreated</li>
    </ul>
    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="initializeForMedia"><span class="type-signature"></span>initializeForMedia( [mediaInfo])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Initialize this protection system with a given audio
or video stream information.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>mediaInfo</code></td>
            

            <td class="type">
            
                
<span class="param-type">StreamInfo</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Media information</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-95">line 95</a>
			</li>
		</ul>
	</dd>
	

	

	

	
	<dt class="tag-todo method-doc-label method-doc-details-label">To Do:</dt>
	<dd class="tag-todo">
		<ul>
			<li>This API will change when we have better support for allowing applications
to select different adaptation sets for playback.  Right now it is clunky for
applications to create <code>StreamInfo</code> with the right information,</li>
			</ul>
	</dd>
	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="loadKeySession"><span class="type-signature"></span>loadKeySession(sessionID, initData)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Loads a key session with the given session ID from persistent storage.  This
essentially creates a new key session</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sessionID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>initData</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-186">line 186</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    
    <h5>Fires:</h5>
    <ul>
        <li>ProtectionController#event:KeySessionCreated</li>
    </ul>
    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="removeKeySession"><span class="type-signature"></span>removeKeySession(sessionToken)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Removes the given key session from persistent storage and closes the session
as if <code>ProtectionController#closeKeySession</code>
was called</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sessionToken</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="SessionToken.html">SessionToken</a></span>



            
            </td>

            

            

            <td class="description last"><p>the session
token</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-202">line 202</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    
    <h5>Fires:</h5>
    <ul>
        <li>ProtectionController#event:KeySessionRemoved</li>
    
        <li>ProtectionController#event:KeySessionClosed</li>
    </ul>
    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="reset"><span class="type-signature"></span>reset()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Destroys all protection data associated with this protection set.  This includes
deleting all key sessions.  In the case of persistent key sessions, the sessions
will simply be unloaded and not deleted.  Additionally, if this protection set is
associated with a HTMLMediaElement, it will be detached from that element.</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-302">line 302</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setMediaElement"><span class="type-signature"></span>setMediaElement(element)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Associate this protection system with the given HTMLMediaElement.  This
causes the system to register for needkey/encrypted events from the given
element and provides a destination for setting of MediaKeys</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLMediaElement</span>



            
            </td>

            

            

            <td class="description last"><p>the media element to which the protection
system should be associated</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-245">line 245</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setProtectionData"><span class="type-signature"></span>setProtectionData(data)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Attach KeySystem-specific data to use for license acquisition with EME</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>an object containing property names corresponding to
key system name strings (e.g. &quot;org.w3.clearkey&quot;) and associated values
being instances of <a href="ProtectionData.html"><code>ProtectionData</code></a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-288">line 288</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setRobustnessLevel"><span class="type-signature"></span>setRobustnessLevel(level)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Sets the robustness level for video and audio capabilities. Optional to remove Chrome warnings.
Possible values are SW_SECURE_CRYPTO, SW_SECURE_DECODE, HW_SECURE_CRYPTO, HW_SECURE_CRYPTO, HW_SECURE_DECODE, HW_SECURE_ALL.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>level</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>the robustness level</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-275">line 275</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setServerCertificate"><span class="type-signature"></span>setServerCertificate(serverCertificate)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Sets a server certificate for use by the CDM when signing key messages
intended for a particular license server.  This will fire
an error event if a key system has not yet been selected.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>serverCertificate</code></td>
            

            <td class="type">
            
                
<span class="param-type">ArrayBuffer</span>



            
            </td>

            

            

            <td class="description last"><p>a CDM-specific license server
certificate</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-231">line 231</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    
    <h5>Fires:</h5>
    <ul>
        <li>ProtectionController#event:ServerCertificateUpdated</li>
    </ul>
    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="setSessionType"><span class="type-signature"></span>setSessionType(value)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Sets the session type to use when creating key sessions.  Either &quot;temporary&quot; or
&quot;persistent-license&quot;.  Default is &quot;temporary&quot;.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>the session type</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="streaming_protection_controllers_ProtectionController.js.html">streaming/protection/controllers/ProtectionController.js</a>,
				 <a href="streaming_protection_controllers_ProtectionController.js.html#sunlight-1-line-263">line 263</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	<h3>Dash.js <a href="http://gruntjs.com/"><img src="https://cdn.gruntjs.com/builtwith.png" alt="Built with Grunt"></a></h3>
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
		on Mon Jun 11th 2018
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>